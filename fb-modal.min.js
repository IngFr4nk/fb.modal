"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Modal=function(){function e(t){_classCallCheck(this,e),this.modalConfig=t,this.url=t.source}return _createClass(e,[{key:"insertElement",value:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)}},{key:"closeModal",value:function(e,t){e.addEventListener("click",function(){document.querySelector(".modal.".concat(t)).classList.remove("modal-show");var e=document.querySelector(".modal-inner.".concat(t));e&&e.remove()})}},{key:"addElement",value:function(e,t){t.appendChild(e)}},{key:"init",value:function(){var e=this,t=this.modalConfig,n=document.createElement("style");n.innerHTML="\n      iframe{\n        border:0;\n      }\n      .modal {\n        opacity: 0;\n        visibility: hidden;\n        transform: scale(1.2);\n        transition: all 0.3s ease-out;\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: rgba(51, 51, 51, 0.94);\n        text-align: center;\n        z-index: 5;\n      }\n\n      .modal-header {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n      }\n\n      .modal-inner {\n        flex: 1;\n        margin: auto;\n        margin-top: 180px;\n      }\n\n      .modal img {\n        width: 20%;\n        max-width: 100%;\n      }\n\n      .close {\n        position: absolute;\n        top: 20px;\n        right: 20px;\n        text-decoration: none;\n        font-family: verdana;\n        color: white;\n        cursor: pointer;\n      }\n\n      .modal-show {\n        opacity: 1;\n        visibility: visible;\n        transform: scale(1);\n      }\n    ",document.head.appendChild(n);var o=document.createElement("div");o.classList.add("modal"),o.classList.add(t.domElement);var a=[];a.push(parseInt(t.background.slice(1,3),16)),a.push(parseInt(t.background.slice(3,5),16)),a.push(parseInt(t.background.slice(5,7),16)),o.style.background="rgba(".concat(a[0],", ").concat(a[1],", ").concat(a[2],", ").concat(t.opacity,")");var r=document.createElement("div");r.classList.add("modal-header");var i=document.createElement("div");i.classList.add("modal-inner"),i.classList.add(t.domElement);var l=document.createElement("a");l.classList.add("close"),l.innerText="x",l.classList.add("".concat(t.domElement)),r.appendChild(l);var c=document.querySelector(".".concat(t.domElement));c.style.cursor="pointer",c.addEventListener("click",function(){e.addElement(i,o);var n=document.querySelector(".close.".concat(t.domElement));document.querySelector(".modal.".concat(t.domElement)).classList.add("modal-show"),"video"===t.elementType&&document.querySelector(".video.".concat(t.domElement)).play(),e.closeModal(n,t.domElement)});var s="";if(t.elementType)if("video"===t.elementType){var d=document.createElement("source");d.setAttribute("src",t.source),d.innerText="Your browser does not support HTML5 video.",(s=document.createElement(t.elementType)).setAttribute("class",t.elementType),s.classList.add(t.domElement),s.setAttribute("width",t.width),s.setAttribute("controls","controls"),this.addElement(d,s),this.addElement(r,o),this.addElement(s,i),this.addElement(i,o),this.addElement(o,document.querySelector("body"))}else"youtube"===t.elementType?((s=document.createElement("iframe")).setAttribute("src",t.source),s.setAttribute("width",t.width),s.setAttribute("height",t.height),s.setAttribute("controls","controls"),this.addElement(r,o),this.addElement(s,i),this.addElement(o,document.querySelector("body"))):console.error("Attribute source for element ".concat(t.elementType," is not found"))}}]),e}();